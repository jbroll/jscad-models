(function(t,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("@jscad/modeling")):typeof define=="function"&&define.amd?define(["@jscad/modeling"],u):(t=typeof globalThis<"u"?globalThis:t||self,t.jscadFluent=u(t.jscadModeling))})(this,function(t){"use strict";const{geom3:u}=t.geometries;class n{constructor(r){this.type="geom3",Object.assign(this,r??u.create())}_wrap(r){return new this.constructor(r)}append(r){return o.create(this,r)}translate(r){return this._wrap(t.transforms.translate(r,this))}translateX(r){return this._wrap(t.transforms.translateX(r,this))}translateY(r){return this._wrap(t.transforms.translateY(r,this))}translateZ(r){return this._wrap(t.transforms.translateZ(r,this))}rotate(r){return this._wrap(t.transforms.rotate(r,this))}rotateX(r){return this._wrap(t.transforms.rotateX(r,this))}rotateY(r){return this._wrap(t.transforms.rotateY(r,this))}rotateZ(r){return this._wrap(t.transforms.rotateZ(r,this))}scale(r){return this._wrap(t.transforms.scale(r,this))}scaleX(r){return this._wrap(t.transforms.scaleX(r,this))}scaleY(r){return this._wrap(t.transforms.scaleY(r,this))}scaleZ(r){return this._wrap(t.transforms.scaleZ(r,this))}mirror(r){return this._wrap(t.transforms.mirror(r,this))}mirrorX(){return this._wrap(t.transforms.mirrorX(this))}mirrorY(){return this._wrap(t.transforms.mirrorY(this))}mirrorZ(){return this._wrap(t.transforms.mirrorZ(this))}center(r){return this._wrap(t.transforms.center(r,this))}centerX(){return this._wrap(t.transforms.centerX(this))}centerY(){return this._wrap(t.transforms.centerY(this))}centerZ(){return this._wrap(t.transforms.centerZ(this))}transform(r){return this._wrap(t.transforms.transform(r,this))}colorize(r){return this._wrap(t.colors.colorize(r,this))}hull(){return this._wrap(t.hulls.hull(this))}hullChain(){return this._wrap(t.hulls.hullChain(this))}expand(r){return this._wrap(t.expansions.expand(r,this))}union(...r){return this._wrap(t.booleans.union([this,...r]))}subtract(...r){return this._wrap(t.booleans.subtract([this,...r]))}intersect(...r){return this._wrap(t.booleans.intersect([this,...r]))}measureBoundingBox(){return t.measurements.measureBoundingBox(this)}measureBoundingSphere(){return t.measurements.measureBoundingSphere(this)}measureCenter(){return t.measurements.measureCenter(this)}measureDimensions(){return t.measurements.measureDimensions(this)}measureVolume(){return t.measurements.measureVolume(this)}toPolygons(){return u.toPolygons(this)}validate(){u.validate(this)}toString(){return u.toString(this)}}class e extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,e.prototype)}translate(r){return new e(...t.transforms.translate(r,this))}translateX(r){return new e(...t.transforms.translateX(r,this))}translateY(r){return new e(...t.transforms.translateY(r,this))}translateZ(r){return new e(...t.transforms.translateZ(r,this))}rotate(r){return new e(...t.transforms.rotate(r,this))}rotateX(r){return new e(...t.transforms.rotateX(r,this))}rotateY(r){return new e(...t.transforms.rotateY(r,this))}rotateZ(r){return new e(...t.transforms.rotateZ(r,this))}scale(r){return new e(...t.transforms.scale(r,this))}scaleX(r){return new e(...t.transforms.scaleX(r,this))}scaleY(r){return new e(...t.transforms.scaleY(r,this))}scaleZ(r){return new e(...t.transforms.scaleZ(r,this))}mirror(r){return new e(...t.transforms.mirror(r,this))}mirrorX(){return new e(...t.transforms.mirrorX(this))}mirrorY(){return new e(...t.transforms.mirrorY(this))}mirrorZ(){return new e(...t.transforms.mirrorZ(this))}center(r){return new e(...t.transforms.center(r,this))}centerX(){return new e(...t.transforms.centerX(this))}centerY(){return new e(...t.transforms.centerY(this))}centerZ(){return new e(...t.transforms.centerZ(this))}transform(r){return new e(...t.transforms.transform(r,this))}colorize(r){return new e(...t.colors.colorize(r,this))}toString(){return`FluentGeometryArray(${this.length})[${this.map(r=>r.toString()).join(", ")}]`}}class o extends e{constructor(...r){super(...r),Object.setPrototypeOf(this,o.prototype)}static create(...r){return new o(...r)}append(r){return super.push(r),this}hull(){return new n(t.hulls.hull(this))}hullChain(){return new n(t.hulls.hullChain(this))}}class w extends e{constructor(...r){super(...r),Object.setPrototypeOf(this,w.prototype)}static create(...r){return new w(...r)}append(r){return super.push(r),this}extrudeLinear(r){return o.create(...this.map(i=>t.extrusions.extrudeLinear(r,i)))}extrudeRotate(r){return o.create(...this.map(i=>t.extrusions.extrudeRotate(r,i)))}hull(){return new a(t.hulls.hull(this))}hullChain(){return new a(t.hulls.hullChain(this))}}const{geom2:c}=t.geometries;class a{constructor(r){this.type="geom2",Object.assign(this,r??c.create())}_wrap(r){return new this.constructor(r)}append(r){return w.create(this,r)}translate(r){return this._wrap(t.transforms.translate(r,this))}translateX(r){return this._wrap(t.transforms.translateX(r,this))}translateY(r){return this._wrap(t.transforms.translateY(r,this))}translateZ(r){return this._wrap(t.transforms.translateZ(r,this))}rotate(r){return this._wrap(t.transforms.rotate(r,this))}rotateX(r){return this._wrap(t.transforms.rotateX(r,this))}rotateY(r){return this._wrap(t.transforms.rotateY(r,this))}rotateZ(r){return this._wrap(t.transforms.rotateZ(r,this))}scale(r){return this._wrap(t.transforms.scale(r,this))}scaleX(r){return this._wrap(t.transforms.scaleX(r,this))}scaleY(r){return this._wrap(t.transforms.scaleY(r,this))}scaleZ(r){return this._wrap(t.transforms.scaleZ(r,this))}mirror(r){return this._wrap(t.transforms.mirror(r,this))}mirrorX(){return this._wrap(t.transforms.mirrorX(this))}mirrorY(){return this._wrap(t.transforms.mirrorY(this))}mirrorZ(){return this._wrap(t.transforms.mirrorZ(this))}center(r){return this._wrap(t.transforms.center(r,this))}centerX(){return this._wrap(t.transforms.centerX(this))}centerY(){return this._wrap(t.transforms.centerY(this))}centerZ(){return this._wrap(t.transforms.centerZ(this))}transform(r){return this._wrap(t.transforms.transform(r,this))}colorize(r){return this._wrap(t.colors.colorize(r,this))}expand(r){return this._wrap(t.expansions.expand(r,this))}offset(r){return this._wrap(t.expansions.offset(r,this))}union(...r){return this._wrap(t.booleans.union([this,...r]))}subtract(...r){return this._wrap(t.booleans.subtract([this,...r]))}intersect(...r){return this._wrap(t.booleans.intersect([this,...r]))}hull(){return this._wrap(t.hulls.hull(this))}hullChain(){return this._wrap(t.hulls.hullChain(this))}extrudeLinear(r){const i=t.extrusions.extrudeLinear(r,this);return new n(i)}extrudeRotate(r){const i=t.extrusions.extrudeRotate(r,this);return new n(i)}measureBoundingBox(){return t.measurements.measureBoundingBox(this)}measureBoundingSphere(){return t.measurements.measureBoundingSphere(this)}measureCenter(){return t.measurements.measureCenter(this)}measureDimensions(){return t.measurements.measureDimensions(this)}measureArea(){return t.measurements.measureArea(this)}toPoints(){return c.toPoints(this)}toOutlines(){return c.toOutlines(this)}validate(){c.validate(this)}toString(){return c.toString(this)}}class f extends e{constructor(...r){super(...r),Object.setPrototypeOf(this,f.prototype)}static create(...r){return new f(...r)}append(r){return super.push(r),this}hull(){return new _(t.hulls.hull(this))}hullChain(){return new _(t.hulls.hullChain(this))}}const{path2:l}=t.geometries;class _{constructor(r){this.type="path2",Object.assign(this,r??l.create())}_wrap(r){return new this.constructor(r)}append(r){return f.create(this,r)}translate(r){return this._wrap(t.transforms.translate(r,this))}translateX(r){return this._wrap(t.transforms.translateX(r,this))}translateY(r){return this._wrap(t.transforms.translateY(r,this))}translateZ(r){return this._wrap(t.transforms.translateZ(r,this))}rotate(r){return this._wrap(t.transforms.rotate(r,this))}rotateX(r){return this._wrap(t.transforms.rotateX(r,this))}rotateY(r){return this._wrap(t.transforms.rotateY(r,this))}rotateZ(r){return this._wrap(t.transforms.rotateZ(r,this))}scale(r){return this._wrap(t.transforms.scale(r,this))}scaleX(r){return this._wrap(t.transforms.scaleX(r,this))}scaleY(r){return this._wrap(t.transforms.scaleY(r,this))}scaleZ(r){return this._wrap(t.transforms.scaleZ(r,this))}mirror(r){return this._wrap(t.transforms.mirror(r,this))}mirrorX(){return this._wrap(t.transforms.mirrorX(this))}mirrorY(){return this._wrap(t.transforms.mirrorY(this))}mirrorZ(){return this._wrap(t.transforms.mirrorZ(this))}center(r){return this._wrap(t.transforms.center(r,this))}centerX(){return this._wrap(t.transforms.centerX(this))}centerY(){return this._wrap(t.transforms.centerY(this))}centerZ(){return this._wrap(t.transforms.centerZ(this))}transform(r){return this._wrap(t.transforms.transform(r,this))}colorize(r){return this._wrap(t.colors.colorize(r,this))}expand(r){return this._wrap(t.expansions.expand(r,this))}offset(r){return this._wrap(t.expansions.offset(r,this))}hull(){return this._wrap(t.hulls.hull(this))}hullChain(){return this._wrap(t.hulls.hullChain(this))}measureBoundingBox(){return t.measurements.measureBoundingBox(this)}measureBoundingSphere(){return t.measurements.measureBoundingSphere(this)}measureCenter(){return t.measurements.measureCenter(this)}measureDimensions(){return t.measurements.measureDimensions(this)}measureArea(){return t.measurements.measureArea(this)}toPoints(){return l.toPoints(this)}validate(){l.validate(this)}toString(){return l.toString(this)}}function m(...s){if(s.length===0)throw new Error("union requires at least one geometry");return(Array.isArray(s[0])?s[0][0]:s[0])instanceof a?new a(t.booleans.union(s)):new n(t.booleans.union(s))}function v(...s){if(s.length===0)throw new Error("subtract requires at least one geometry");return(Array.isArray(s[0])?s[0][0]:s[0])instanceof a?new a(t.booleans.subtract(s)):new n(t.booleans.subtract(s))}function R(...s){if(s.length===0)throw new Error("intersect requires at least one geometry");return(Array.isArray(s[0])?s[0][0]:s[0])instanceof a?new a(t.booleans.intersect(s)):new n(t.booleans.intersect(s))}const C=Math.PI*2;function p(s,r=1){if(s===void 0)return[[r,r],[r,r]];if(typeof s=="number")return[[s,s],[s,s]];const[i,h]=s;return[Array.isArray(i)?i:[i,i],Array.isArray(h)?h:[h,h]]}function S(s){const r={height:1,segments:32,center:[0,0,0],...s},[i,h]=r.angle??[0,C];let Z=s.inner;if(s.wall!==void 0){const[b,x]=p(s.outer??s.radius),[X,Y]=p(s.wall);Z=[[b[0]-X[0],b[1]-X[1]],[x[0]-Y[0],x[1]-Y[1]]]}if(Z!==void 0){const[b,x]=p(s.outer??s.radius),[X,Y]=p(Z),j=t.primitives.cylinderElliptic({height:r.height,segments:r.segments,center:r.center,startRadius:b,endRadius:x,startAngle:i,endAngle:h}),O=t.primitives.cylinderElliptic({height:r.height,segments:r.segments,center:r.center,startRadius:X,endRadius:Y,startAngle:i,endAngle:h});return new n(t.booleans.subtract(j,O))}const[B,T]=p(s.radius);return new n(t.primitives.cylinderElliptic({height:r.height,segments:r.segments,center:r.center,startRadius:B,endRadius:T,startAngle:i,endAngle:h}))}return{arc(s){return new _(t.primitives.arc(s))},line(s){return new _(t.primitives.line(s))},rectangle(s){return new a(t.primitives.rectangle(s))},roundedRectangle(s){return new a(t.primitives.roundedRectangle(s))},circle(s){return new a(t.primitives.circle(s))},ellipse(s){return new a(t.primitives.ellipse(s))},polygon(s){return new a(t.primitives.polygon({points:s}))},square(s){return new a(t.primitives.square(s))},star(s){return new a(t.primitives.star(s))},triangle(s){return new a(t.primitives.triangle(s))},cube(s){return new n(t.primitives.cube(s))},cuboid(s){return new n(t.primitives.cuboid(s))},sphere(s){return new n(t.primitives.sphere(s))},cylinder(s){return S(s)},cylinderElliptic(s){return new n(t.primitives.cylinderElliptic(s))},torus(s){return new n(t.primitives.torus(s))},ellipsoid(s){return new n(t.primitives.ellipsoid(s))},geodesicSphere(s){return new n(t.primitives.geodesicSphere(s))},roundedCuboid(s){return new n(t.primitives.roundedCuboid(s))},roundedCylinder(s){return new n(t.primitives.roundedCylinder(s))},polyhedron({points:s,faces:r}){return new n(t.primitives.polyhedron({points:s,faces:r}))},union:m,subtract:v,intersect:R,colors:{hexToRgb:t.colors.hexToRgb,colorNameToRgb:t.colors.colorNameToRgb,hslToRgb:t.colors.hslToRgb,hsvToRgb:t.colors.hsvToRgb,rgbToHex:t.colors.rgbToHex,rgbToHsl:t.colors.rgbToHsl,rgbToHsv:t.colors.rgbToHsv,css:t.colors.cssColors}}});
